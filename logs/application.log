[34m2025-01-05 22:38:14[0;39m [1;31mINFO [0;39m c.e.c.Ca3MusicLibraryApplication - Starting Ca3MusicLibraryApplication using Java 22.0.2 with PID 5388 (C:\CollegeY3\CA3_music_library\target\classes started by dambe in C:\CollegeY3\CA3_music_library)

[34m2025-01-05 22:38:14[0;39m [1;31mINFO [0;39m c.e.c.Ca3MusicLibraryApplication - No active profile set, falling back to 1 default profile: "default"

[34m2025-01-05 22:38:15[0;39m [1;31mINFO [0;39m o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)

[34m2025-01-05 22:38:15[0;39m [1;31mINFO [0;39m o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]

[34m2025-01-05 22:38:15[0;39m [1;31mINFO [0;39m o.a.catalina.core.StandardService - Starting service [Tomcat]

[34m2025-01-05 22:38:15[0;39m [1;31mINFO [0;39m o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]

[34m2025-01-05 22:38:15[0;39m [1;31mINFO [0;39m o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext

[34m2025-01-05 22:38:15[0;39m [1;31mINFO [0;39m o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 652 ms

[34m2025-01-05 22:38:15[0;39m [1;31mINFO [0;39m o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index

[34m2025-01-05 22:38:15[0;39m [1;31mINFO [0;39m o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]

[34m2025-01-05 22:38:15[0;39m [1;31mINFO [0;39m o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'

[34m2025-01-05 22:38:15[0;39m [1;31mINFO [0;39m c.e.c.Ca3MusicLibraryApplication - Started Ca3MusicLibraryApplication in 1.264 seconds (process running for 1.616)

[34m2025-01-05 22:38:36[0;39m [1;31mINFO [0;39m o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'

[34m2025-01-05 22:38:36[0;39m [1;31mINFO [0;39m o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'

[34m2025-01-05 22:38:36[0;39m [1;31mINFO [0;39m o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms

[34m2025-01-05 22:38:57[0;39m [1;31mINFO [0;39m c.e.c.Persistence.UserDaoImpl - User Damian successfully registered.

[34m2025-01-05 22:39:18[0;39m [1;31mINFO [0;39m c.e.c.controllers.UserController - POST /edit triggered with username: Damian, first: Damian, last: Magierarf, email: testttd@test.com

[34m2025-01-05 22:39:19[0;39m [1;31mERROR[0;39m c.e.c.Persistence.UserDaoImpl - Error updating user: Damian
java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'testttd@test.com' for key 'email'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109)

[34m2025-01-05 22:39:19[0;39m [1;31mERROR[0;39m c.e.c.controllers.UserController - Failed to update profile for user: Damian

[34m2025-01-05 22:39:19[0;39m [1;31mERROR[0;39m org.thymeleaf.TemplateEngine - [THYMELEAF][http-nio-8080-exec-6] Exception processing template "editProfile": Exception evaluating SpringEL expression: "user.username" (template: "editProfile" - line 69, col 62)
org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "user.username" (template: "editProfile" - line 69, col 62)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'username' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:225)

[34m2025-01-05 22:39:19[0;39m [1;31mERROR[0;39m o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "user.username" (template: "editProfile" - line 69, col 62)] with root cause
org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'username' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:225)

